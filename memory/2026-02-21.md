# 2026-02-21

## 04:14 EST - Apple Reminders Sync Attempt (Cron)

Cron triggered Apple Reminders sync. MacMini node still offline (WS plaintext security check ‚Äî ws://192.168.4.252:18789 rejected).

**New tasks found (not in sync state, needsAction):**

### TARSON - Tracking (4 new):
- Zmd1UGswODdiWHRrOFVtcw: [TAX] Coinbase 1099-DA - Review missing cost basis for 2025
- Uk8wUllpSERXOEJWYzBsUA: [BILL] Sawnee EMC - Payment posted Feb 20, 2026
- LWlzcUlTMHZrcGZ2RjdWWA: [WATCHING] Serasa/SABESP - Natalino water bills
- WU9xSGZMeVhTVWZfenhhWQ: [BILL] Sawnee EMC - $201.27 (due Feb 19 - PAST DUE!)

### TARSON - Orders (2 new):
- Wk9WdUFWVngzVThqNzVwUg: [DELIVERY] Amazon Subscribe & Save - Kerasal Nail Patches (due Feb 27)
- bEhkYXJtbUJqbG1uUGEySA: [PACKAGE] Amazon - Arriving Soon

### TARSON - Fragments (1 new):
- V01icTFVeDhldDRDT2RpZA: [LINK] mcp-b.ai

### TARSON - Quote Control (13 new):
All quotes for Highview (Belgard Hexagon Gray) and Lomax (Bluestone) jobs - not critical for Apple Reminders.

**Action:** Sync state NOT updated. Will retry when MacMini comes back online.
**Fix needed:** Enable TLS on gateway (wss://) or adjust security config for MacMini node.

## 05:33 EST - Memory Review (Cron)

Reviewed recent history (Feb 20-21 logs). No new session activity since 4:14 AM sync attempt.

**MEMORY.md updates made:**
1. Added `leo@tucanostones.com` broken Google Workspace account to Business Context
2. Updated MacMini pending sync count to 20 tasks

**Pending items worth flagging to Regis when awake:**
- `leo@tucanostones.com` is bouncing (550) ‚Äî emails to Leo are silently failing
- Sawnee EMC: $201.27 task shows due Feb 19 (past due) but payment was confirmed posted Feb 20 ‚Äî old task may need to be completed
- MacMini Apple Reminders sync still broken ‚Äî 20 tasks accumulating

## 10:45-11:00 EST - Gateway & MacMini Fix Session

**Problem:** Gateway restart (Feb 20) introduced WS plaintext security check, blocking all CLI tools and inbox cron. MacMini also disconnected.

**Fix applied:**
1. Gateway: `bind=lan` + `tls.enabled=true` ‚Üí now serves `wss://192.168.4.252:18789`
2. Crontab: added `NODE_TLS_REJECT_UNAUTHORIZED=0` to inbox cron command (self-signed cert)
3. MacMini: Regis ran `openclaw node install --force --tls --tls-fingerprint F2:A1...` ‚Üí reconnected
4. MacMini IP confirmed: 192.168.5.31 (SSH works via `ssh regis@192.168.5.31`)

**Apple Reminders Sync - 6 new tasks synced:**
- [TAX] Coinbase 1099-DA - Review missing cost basis for 2025
- [BILL] Sawnee EMC - Payment posted Feb 20, 2026
- [WATCHING] Serasa/SABESP - Natalino water bills
- [BILL] Sawnee EMC - $201.27 (due Feb 19)
- [DELIVERY] Amazon Subscribe & Save - Kerasal Nail Patches (due Feb 27)
- [PACKAGE] Amazon - Arriving Soon

Sync state updated ‚Üí 36 total synced IDs.

**Note:** `nodes` tool shows "unknown node: MacMinoris" after reinstall (new ID assigned). Use SSH+osascript as fallback. Cert fingerprint: F2:A1:DB:AA:7C:DD:21:F3:2B:BD:2A:A0:ED:63:C4:39:B5:7F:70:EB:17:A4:6F:88:22:27:52:24:D0:68:05:76

## 12:37 PM - Memory Flush

**Inbox Zero Workflow Changes (User-directed):**
1.  **iCloud checks disabled:** User confirmed iCloud now forwards all mail to Gmail. The `inbox_fetch_all.sh` script has been updated to query Gmail only.
2.  **"Track" behavior updated:** The new procedure is to add `Label_81` and mark as read, but **keep the email in the INBOX**. The user prefers this for visual tracking. `MEMORY.md` and `rules/inbox_zero.md` have been updated to reflect this new standard operating procedure.

**TUI Access:**
- User created a wrapper script `scripts/tui.sh` and an alias `otui` to handle the self-signed TLS certificate issue, allowing the TUI to connect successfully.

**Inbox Status (12:30 PM):**
- Processed 6 unread emails.
- Handled a Google Security alert regarding an App Password creation for "Coinbasemails" (user confirmed it was them).
- Achieved inbox zero for `is:unread`.
- User reports seeing many read emails still in the inbox. Awaiting clarification to run a different search query.

## 13:33 PM - Memory Review

**Task Management Strategy Discussion:**
- User proposed a change to the task creation workflow to get native, clickable Gmail links in Google Tasks.
- **Proposed Method:** Use browser automation to click the "Add to Tasks" button in the Gmail UI for a specific email, then use the API to find and enrich the newly created task.
- **My Analysis:** The method is feasible but fragile (dependent on Gmail's UI) and slow (5-10 seconds per task vs. <1 second for API).
- **Counter-Proposal (Hybrid Approach):**
    - Continue using the fast, reliable API method for standard inbox zero triage.
    - On user command ("Track this one with the native link"), use the slower browser automation method for high-value or complex threads where the clickable link is most useful.
- **Status:** Awaiting user feedback on the hybrid approach.

## 14:00-16:30 EST - Major Build Session: Gmail‚ÜíTasks Automation + Audit

### TTS Voice Fix
- Old voice `pt-BR-FranciscaNeural` was still active despite config changes
- Root cause: `"lang": "pt-BR"` in openclaw.json was overriding `"voice": "en-US-EricNeural"`
- Fix: changed `lang` to `en-US` in `messages.tts.edge` config, restarted gateway
- **New voice: `en-US-EricNeural`** (user selected, 2026-02-21)
- `edge-tts` installed via pipx; config: `messages.tts.provider=edge`, `messages.tts.edge.voice=en-US-EricNeural`

### Gmail ‚Üí Native Tasks Automation ‚Äî BUILT AND TESTED ‚úÖ
**Problem:** Google Tasks API `links` field is read-only. Only Gmail UI's "Add to Tasks" creates native-linked tasks.

**Solution built:**
1. `scripts/gmail_auth_setup.js` ‚Äî One-time setup: launches Chrome (stealth mode, `DISPLAY=:0`), user logs in, saves 50 Google cookies to `memory/gmail_auth_state.json`
   - Key: must use `--disable-blink-features=AutomationControlled` + `ignoreDefaultArgs: ['--enable-automation']`
   - Navigate to `https://mail.google.com` (NOT custom signin URL ‚Äî causes 400 error)
   - Wait for Compose button (not `[role="main"]` ‚Äî that appears on login page too)
   
2. `scripts/gmail_add_to_tasks.js` ‚Äî Headless Playwright: loads auth state, navigates to Gmail thread, clicks More ‚Üí "Add to Tasks" menu item
   - Auth file: `memory/gmail_auth_state.json` (50 cookies, all key Google auth cookies present)
   - Confirmed working: creates task in My Tasks with full email subject as title

3. `scripts/track_email.sh` ‚Äî Full flow wrapper:
   - Snapshots My Tasks IDs (before)
   - Runs Playwright ‚Üí creates native task
   - Detects new task ID (after diff)
   - Creates enriched task in TARSON-Tracking (title=[CATEGORY] title, notes=source+link)
   - Deletes original from My Tasks
   - track: applies Label_81 + marks read | snooze: applies Label_3397993892725869791 + marks read

4. `scripts/zero_tracking.sh` ‚Äî Fetches TARSON-Tracking tasks sorted by priority:
   - üî¥ OVERDUE | üü† TODAY | üü° SOON (‚â§3 days) | üü¢ OPEN
   - Handles pagination, extracts gmail_id from notes

5. `scripts/tracking_audit.sh` ‚Äî Bidirectional audit:
   - Fetches all emails with Label_81 AND all TARSON-Tracking tasks
   - Cross-references via `source: gmail:<thread_id>` notes (case-insensitive)
   - Reports: MATCHED / ORPHAN_EMAIL / ORPHAN_TASK / UNLINKED_TASK
   - Supports `--json` mode for agent processing

**Rules updated:** `rules/inbox_zero.md` updated with:
- New button actions: `trk_` and `snz_` now call `track_email.sh` (not just gog label commands)
- Auto-category logic table (BILL/TAX/ORDER/QUOTE/WORK/EVENT/WAITING/ACTION/WATCHING)
- Native task principle documented

### Audit Review ‚Äî IN PROGRESS (4:28 PM)
**Audit results (after case-insensitive fix):**
- ‚úÖ 19 matched (task + email properly linked)
- üìß 22 orphan emails (Tracking label, no task)
- üìã 0 orphan tasks
- üîó 13 unlinked tasks (no source note ‚Äî old API-created)

**Button UX defined:**
- üîó Link ‚Üí update task notes with email source
- ‚úÖüóëÔ∏è Done + Delete ‚Üí complete task + trash email
- ‚úÖüìÅ Done + Archive ‚Üí complete task + archive email
- üè∑Ô∏è‚ùå Untag only ‚Üí remove Label_81, nothing else
- ‚è≠Ô∏è Skip ‚Üí defer

**Audit progress (items 1-4 of 22):**
1. `19c7aec6c365bfaa` (Jobber email bounce duplicate) ‚Üí üè∑Ô∏è‚ùå Untagged
2. `19c6c3e9a1e59114` (Venterra SMARTPACKAGE) ‚Üí ‚úÖüóëÔ∏è Done + Deleted (task WmRYSDZwcl9PaGI5b1VrYQ completed)
3. `19c676c13ca48656` (Kerasal delivery update) ‚Üí ‚úÖüóëÔ∏è Done + Deleted (task Wk9WdUFWVngzVThqNzVwUg completed)
4. `19c67629fb9f3b31` (Stone Center Quote QUO57863) ‚Üí PENDING USER RESPONSE

**Remaining orphan emails (5-22):**
5.  `19c604bfe410dab4` ‚Äî Review your upcoming delivery
6.  `19c5e12f4098bf3e` ‚Äî You have disapproved ads and asset groups (2nd Google Ads email)
7.  `19c5d30282c68a7e` ‚Äî Schedule Your Jobber Training Today
8.  `19c5863e834f6999` ‚Äî A Payment of $4,250.00 was paid towards Invoice #7001
9.  `19c534312138480a` ‚Äî Email of Price Quote: leo moreira
10. `19c52eea84d19754` ‚Äî Highview
11. `19c52afba4ba5356` ‚Äî FW: Quote for TUCANO STONE -- #0025110628
12. `19c5261bd8638748` ‚Äî Jobber Summit marketing (likely untag)
13. `19c4ee8a65bc3a45` ‚Äî FW: Quote for TUCANO STONE -- #0025100423
14. `19c4eab359412b23` ‚Äî Lomax
15. `19c4dc5fe359c33a` ‚Äî Reminder about your upcoming payment
16. `19c497ed9af43118` ‚Äî ontidwit AI session (Feb 25) ‚Üí link to task Y0g2cG1NS2pDSHZKUk9lMQ
17. `19c48eee27a937c8` ‚Äî Fwd: Schedule Your Jobber Training Today (duplicate)
18. `19c4896331b7dfcf` ‚Äî Schedule Your Jobber Training Today (duplicate)
19. `19c42f1cff39b248` ‚Äî Fwd: You've Got Help Getting Started in Jobber
20. `19c33fc42eb79ea0` ‚Äî You've Got Help Getting Started in Jobber
21. `19bfc7e8541c8f0f` ‚Äî Fwd: Tax information
22. `19b25b3158b28a50` ‚Äî REGIS comunicado importante - Serasa Experian (2nd email, task already has primary source)

**Unlinked tasks remaining (13):**
- Zmd1UGswODdiWHRrOFVtcw: [TAX] Coinbase 1099-DA (no email ‚Äî internal task)
- QmFXRUQ1WmRoam82bi1peg: [QUOTE] Jeramie concrete quote
- S3QwVGVyTTJfcWpNcTk2Tg: [WORK] Oscar Teran flagstone
- YzdyWlFfU2xqQkExY0dUUg: [ACTION] Jobber onboarding
- Y0g2cG1NS2pDSHZKUk9lMQ: [EVENT] ontidwit AI session
- TmhXU0NBdm40NjlLRnNMMQ: [WAITING] JMJ EB3 confirmation
- SEh3aTZDbElMVFpkTW8wYg: [WORK] Jobber Invoice #7001 (source: icloud:uid:4764)
- dXNxZWQ2bW1TRy0tYUZVdA: [WAITING] JMJ tax info receipt
- M1UwX2N1Tl85VFl4V3hTLQ: [WATCHING] Oracle ARM cron
- MElkcjhXNFpEdElkUFFwdw: [ACTION] Jobber training session
- NlVyN2d2aWNvX3dyeTRjbQ: [ACTION] Google Review iOS Shortcuts
- eFNnR0RzRV9EZ2JwbmpXZw: [WATCHING] Google Tasks notification integration
- VkpsR2x3dzZJSnRoWlhyOA: WAIT ‚Äî this IS Archadeck and WAS in matched list actually
